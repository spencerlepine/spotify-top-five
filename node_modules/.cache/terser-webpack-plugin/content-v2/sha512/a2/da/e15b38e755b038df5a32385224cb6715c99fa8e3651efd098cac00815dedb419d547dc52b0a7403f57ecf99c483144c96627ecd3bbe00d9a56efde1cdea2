{"code":"(this[\"webpackJsonptop-songs\"]=this[\"webpackJsonptop-songs\"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){\"use strict\";n.r(t);var c=n(1),r=n.n(c),i=n(8),s=n.n(i),a=(n(14),n(15),n.p,n(0));var o=n(7),l=n(4),u=n(2),j=n(9);var d=function(e){var t=Object(c.useState)(!0),n=Object(u.a)(t,2),r=n[0],i=n[1];return Object(c.useEffect)((function(){var t=function(e){if(\"string\"==typeof e&&e.length>60)return e.split(\"#\",2)[1].split(\"=\")[1].split(\"&\")[0]}(window.location.href);t?(e.saveToken(t),window.location.hash=\"\"):i(!0)}),[]),Object(a.jsx)(\"div\",{className:\"accountStatus\",children:r&&Object(a.jsx)(\"button\",{onClick:function(){var e=\"https://accounts.spotify.com/authorize\";e+=\"?response_type=token\",e+=\"&client_id=\"+encodeURIComponent(\"0d539539a02d47a8842d93141f6b6984\"),e+=\"&scope=\"+encodeURIComponent(\"user-read-private user-read-email user-read-playback-state\"),e+=\"&redirect_uri=\"+encodeURIComponent(\"http://localhost:3000/callback\"),window.location=e},children:\"Connect Account\"})})};var f=function(e){var t=e.list.map((function(t,n){var c=t.profile;return\"\"===t.profile&&(c=\"https://developers.google.com/maps/documentation/streetview/images/error-image-generic.png\"),Object(a.jsxs)(\"div\",{onClick:function(){return e.handleClick(n)},className:e.checkedArtists[n]?\"checked card\":\"card\",children:[Object(a.jsx)(\"img\",{src:c,alt:\"Artist profile\"}),Object(a.jsx)(\"p\",{children:t.name})]},n)}));return Object(a.jsx)(\"div\",{className:\"cardGrid\",children:t})};var b=function(e){var t=e.list.map((function(t,n){return Object(a.jsx)(\"p\",{onClick:e.handleClick,className:\"card category\",children:t.id},n)}));return Object(a.jsx)(a.Fragment,{children:t})};var h=function(e){return Object(a.jsxs)(a.Fragment,{children:[e.currentUser&&Object(a.jsxs)(\"p\",{className:\"userWelcome\",children:[\"Hello \",e.currentUser,\"!\"]}),!e.selectedCategory&&Object(a.jsxs)(\"div\",{className:\"cardGrid\",children:[Object(a.jsx)(\"p\",{className:\"stepInstructions\",children:\"Choose a category:\"}),Object(a.jsx)(b,{handleClick:e.clickCategoryCard,list:e.availableCategories})]}),e.checkedArtists.filter((function(e){return e})).length>0&&Object(a.jsx)(\"button\",{onClick:e.submitSelectedArtist,className:\"generateBTN\",children:\"Generate\"}),e.featuredArtists.length>0&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(\"p\",{className:\"stepInstructions\",children:[e.selectedCategory,\" Artists:\"]}),Object(a.jsx)(f,{handleClick:e.clickArtist,list:e.featuredArtists,checkedArtists:e.checkedArtists})]}),e.loadingPlaylist&&Object(a.jsx)(\"p\",{children:\"Loading playlist...\"})]})};var g=function(e){return Object(a.jsx)(a.Fragment,{children:e.finalPlaylist})},p=new(n.n(j).a);var O=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(),s=Object(u.a)(i,2),j=s[0],f=s[1],b=Object(c.useState)([]),O=Object(u.a)(b,2),m=O[0],v=O[1],x=Object(c.useState)(\"\"),k=Object(u.a)(x,2),C=k[0],y=k[1],A=Object(c.useState)([]),S=Object(u.a)(A,2),w=S[0],N=S[1],F=Object(c.useState)([]),L=Object(u.a)(F,2),P=L[0],T=L[1],I=Object(c.useState)(!0),_=Object(u.a)(I,2),U=_[0],E=_[1],G=Object(c.useState)([]),R=Object(u.a)(G,2),B=R[0],H=R[1],M=Object(c.useState)(),J=Object(u.a)(M,2),z=J[0],D=J[1];function W(e){p.getCategory(e).then((function(e){y(e.name),function(e){p.getCategoryPlaylists(e).then((function(e){N(e.playlists.items)}))}(e.id)}))}function Y(e,t){p.getArtist(e).then((function(e){console.log(\"Running the promise\"),T((function(n){var c=Object(l.a)(n),r=Object(o.a)({},c[t]);return r.profile=e.images[0].url,c[t]=r,c}))}))}Object(c.useEffect)((function(){if(w.length>0)for(var e=0,t=w.length;e<t;e++)n=w[e].id,p.getPlaylistTracks(n,{limit:5}).then((function(e){for(var t=e.items,n=function(e){var n=t[e].track.artists[0];T((function(e){for(var t=0,c=e.length;t<c;t++)if(e[t].name===n.name)return e;return H((function(e){return[].concat(Object(l.a)(e),[!1])})),[].concat(Object(l.a)(e),[{name:n.name,profile:\"\",id:n.id}])}))},c=0;c<5;c++)n(c);E(!1)}));else var n}),[w]),Object(c.useEffect)((function(){U||function(){if(P.length>0){for(var e=0,t=P.length;e<t;e++)Y(P[e].id,e);E(!0)}}()}),[P]),Object(c.useEffect)((function(){if(n)return p.getMe().then((function(e){e&&f(e.display_name)})),void p.getCategories().then((function(e){e&&v(e.categories.items)}))}),[n]);var q={currentUser:j,availableCategories:m,selectedCategory:C,categoryPlaylists:w,featuredArtists:P,checkedArtists:B};return Object(a.jsxs)(a.Fragment,{children:[!n&&Object(a.jsx)(d,{saveToken:function(e){p.setAccessToken(e),r(e)}}),n&&Object(a.jsx)(h,Object(o.a)({clickArtist:function(e){H((function(t){var n=Object(l.a)(t);return n[e]=!t[e],n}))},submitSelectedArtist:function(){var e=B.map((function(e,t){if(e)return P[t].name})).filter((function(e){return e}));e.length?(alert(\"You chose: \".concat(e)),H([]),T([]),v([]),D(\"Missing link\")):alert(\"Please select your favorite artists..\")},clickCategoryCard:function(e){W(e.target.innerText)}},q)),z&&Object(a.jsx)(g,{finalPlaylist:z})]})};var m=function(){return Object(a.jsx)(\"footer\",{children:Object(a.jsxs)(\"div\",{className:\"footerLinks\",children:[Object(a.jsx)(\"a\",{href:\"https://github.com/spencerlepine/spotify-top-five\",target:\"_blank\",children:Object(a.jsx)(\"img\",{src:\"http://csis.pace.edu/~scharff/pacemobilelab/images/github.jpg\",alt:\"GitHub Logo\"})}),Object(a.jsxs)(\"p\",{children:[\"Created by \",Object(a.jsx)(\"a\",{target:\"_blank\",href:\"https://twitter.com/SpencerLepine\",children:\"@SpencerLepine\"}),\"  \"]}),Object(a.jsx)(\"a\",{href:\"https://twitter.com/SpencerLepine\",target:\"_blank\",children:Object(a.jsx)(\"img\",{src:\"https://logodownload.org/wp-content/uploads/2014/09/twitter-logo-1-1.png\",alt:\"GitHub Logo\"})})]})})};var v=function(){return Object(a.jsxs)(\"div\",{className:\"App\",children:[Object(a.jsx)(O,{}),Object(a.jsx)(m,{})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),i(e),s(e)}))};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(v,{})}),document.getElementById(\"root\")),x()}},[[17,1,2]]]);","name":"static/js/main.97bf3dd2.chunk.js","map":{"version":3,"sources":["static/js/main.97bf3dd2.chunk.js"],"names":["this","push","14","module","exports","__webpack_require__","15","17","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","jsx_runtime","p","objectSpread2","toConsumableArray","slicedToArray","spotify_web_api","components_LoginButton","props","_useState","Object","_useState2","promptLogin","setPromptLogin","validToken","link","length","split","parseCallback","window","location","href","saveToken","hash","className","children","onClick","url","encodeURIComponent","components_ArtistSelection","cardList","list","map","artist","index","img","profile","handleClick","checkedArtists","src","alt","name","components_CategorySelection","cat","id","components_DisplayData","currentUser","selectedCategory","clickCategoryCard","availableCategories","filter","i","submitSelectedArtist","featuredArtists","clickArtist","loadingPlaylist","components_UserPlaylist","finalPlaylist","spotifyWebApi","a","components_SpotifyData","token","setToken","_useState3","_useState4","setCurrentUser","_useState5","_useState6","setAvailableCategories","_useState7","_useState8","setSelectedCategory","_useState9","_useState10","categoryPlaylists","setCategoryPlaylists","_useState11","_useState12","setfeaturedArtists","_useState13","_useState14","fetchingArtists","setFetchingArtists","_useState15","_useState16","setCheckedArtists","_useState17","_useState18","setFinalPlaylist","getCategory","then","response","getCategoryPlaylists","playlists","items","getArtistImage","getArtist","console","log","prevArray","updatedList","obj","images","l","getPlaylistTracks","limit","startingTracks","_loop","thisArtist","track","artists","_i","concat","fetchProfiles","getMe","display_name","getCategories","categories","data","setAccessToken","newArray","finalList","alert","event","target","innerText","components_Footer","src_App","src_reportWebVitals","onPerfEntry","Function","e","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonptop-songs\"] = this[\"webpackJsonptop-songs\"] || []).push([[0],{\n\n/***/ 14:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 15:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 17:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(8);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(15);\n\n// CONCATENATED MODULE: ./src/components/logo.svg\n/* harmony default export */ var logo = (__webpack_require__.p + \"static/media/logo.e324e83e.svg\");\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/Header.js\nfunction Header(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"header\",{className:\"App-header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:logo,className:\"App-logo\",alt:\"logo\"})});}/* harmony default export */ var components_Header = (Header);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/spotify-web-api-js/src/spotify-web-api.js\nvar spotify_web_api = __webpack_require__(9);\nvar spotify_web_api_default = /*#__PURE__*/__webpack_require__.n(spotify_web_api);\n\n// CONCATENATED MODULE: ./src/components/parseCallback.js\nfunction parseCallback(link){// Hard-coded 60 assuming the token is long\nif(typeof link==\"string\"&&link.length>60){// Chop off text before/after the access_token\nvar accessToken=link.split('#',2)[1].split('=')[1].split('&')[0];return accessToken;}}\n// CONCATENATED MODULE: ./src/components/LoginButton.js\nfunction LoginButton(props){var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),promptLogin=_useState2[0],setPromptLogin=_useState2[1];Object(react[\"useEffect\"])(function(){var validToken=parseCallback(window.location.href);if(validToken){props.saveToken(validToken);window.location.hash='';// App will rerender with just .location\n}else{setPromptLogin(true);}},[]);function connectSpotify(){//var stateKey = 'spotify_auth_state';\nvar client_id='0d539539a02d47a8842d93141f6b6984';var redirect_uri='http://localhost:3000/callback';//var state = generateRandomString(16);\n//localStorage.setItem(stateKey, state);\n// https://developer.spotify.com/documentation/general/guides/scopes/\nvar scope='user-read-private user-read-email user-read-playback-state';var url='https://accounts.spotify.com/authorize';url+='?response_type=token';url+='&client_id='+encodeURIComponent(client_id);url+='&scope='+encodeURIComponent(scope);url+='&redirect_uri='+encodeURIComponent(redirect_uri);//url += '&state=' + encodeURIComponent(state);\nwindow.location=url;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"accountStatus\",children:promptLogin&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:connectSpotify,children:\"Connect Account\"})});}/* harmony default export */ var components_LoginButton = (LoginButton);\n// CONCATENATED MODULE: ./src/components/ArtistSelection.js\nfunction ArtistSelection(props){var cardList=props.list.map(function(artist,index){var img=artist.profile;if(artist.profile===''){img='https://developers.google.com/maps/documentation/streetview/images/error-image-generic.png';}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{onClick:function onClick(){return props.handleClick(index);},className:props.checkedArtists[index]?\"checked card\":\"card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:img,alt:\"Artist profile\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:artist.name})]},index);});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"cardGrid\",children:cardList});}/* harmony default export */ var components_ArtistSelection = (ArtistSelection);\n// CONCATENATED MODULE: ./src/components/CategorySelection.js\nfunction CategorySelection(props){var cardList=props.list.map(function(cat,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{onClick:props.handleClick,className:\"card category\",children:cat.id},index);});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:cardList});}/* harmony default export */ var components_CategorySelection = (CategorySelection);\n// CONCATENATED MODULE: ./src/components/DisplayData.js\nfunction DisplayData(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[props.currentUser&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"userWelcome\",children:[\"Hello \",props.currentUser,\"!\"]}),!props.selectedCategory&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"cardGrid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"stepInstructions\",children:\"Choose a category:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_CategorySelection,{handleClick:props.clickCategoryCard,list:props.availableCategories})]}),props.checkedArtists.filter(function(i){return i;}).length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:props.submitSelectedArtist,className:\"generateBTN\",children:\"Generate\"}),props.featuredArtists.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"stepInstructions\",children:[props.selectedCategory,\" Artists:\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ArtistSelection,{handleClick:props.clickArtist,list:props.featuredArtists,checkedArtists:props.checkedArtists})]}),props.loadingPlaylist&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Loading playlist...\"})]});}/* harmony default export */ var components_DisplayData = (DisplayData);\n// CONCATENATED MODULE: ./src/components/UserPlaylist.js\nfunction UserPlaylist(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:props.finalPlaylist});}/* harmony default export */ var components_UserPlaylist = (UserPlaylist);\n// CONCATENATED MODULE: ./src/components/SpotifyData.js\nvar spotifyWebApi=new spotify_web_api_default.a();/*\n    --Display current username\n    --Fetch and display list of Categories\n    --Save user category choice\n    --Fetch category playlists\n    --Get top artists from each\n    --Save to list of artist\n        *insert similar artist into list\n    --Display list of artists\n*/function SpotifyData(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),token=_useState2[0],setToken=_useState2[1];var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),currentUser=_useState4[0],setCurrentUser=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),availableCategories=_useState6[0],setAvailableCategories=_useState6[1];var _useState7=Object(react[\"useState\"])(\"\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),selectedCategory=_useState8[0],setSelectedCategory=_useState8[1];var _useState9=Object(react[\"useState\"])([]),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),categoryPlaylists=_useState10[0],setCategoryPlaylists=_useState10[1];var _useState11=Object(react[\"useState\"])([]),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),featuredArtists=_useState12[0],setfeaturedArtists=_useState12[1];var _useState13=Object(react[\"useState\"])(true),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),fetchingArtists=_useState14[0],setFetchingArtists=_useState14[1];var _useState15=Object(react[\"useState\"])([]),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),checkedArtists=_useState16[0],setCheckedArtists=_useState16[1];var _useState17=Object(react[\"useState\"])(),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),finalPlaylist=_useState18[0],setFinalPlaylist=_useState18[1];function getMe(){spotifyWebApi.getMe().then(function(response){if(response){setCurrentUser(response.display_name);}});}function getCategories(){spotifyWebApi.getCategories().then(function(response){if(response){setAvailableCategories(response.categories.items);}});}function getCategory(id){spotifyWebApi.getCategory(id).then(function(response){setSelectedCategory(response.name);getCategoryPlaylists(response.id);});}function getCategoryPlaylists(id){spotifyWebApi.getCategoryPlaylists(id).then(function(response){setCategoryPlaylists(response.playlists.items);});}function getArtistImage(id,index){spotifyWebApi.getArtist(id).then(function(response){console.log(\"Running the promise\");setfeaturedArtists(function(prevArray){var updatedList=Object(toConsumableArray[\"a\" /* default */])(prevArray);var obj=Object(objectSpread2[\"a\" /* default */])({},updatedList[index]);obj.profile=response.images[0].url;updatedList[index]=obj;return updatedList;});});}function getPlaylistTracks(id){var lim=5;spotifyWebApi.getPlaylistTracks(id,{limit:lim})// Only get 5 songs\n.then(function(response){var startingTracks=response.items;var _loop=function _loop(i){var thisArtist=startingTracks[i].track.artists[0];setfeaturedArtists(function(prevArray){// Skip if this artist already was saved\nfor(var _i=0,l=prevArray.length;_i<l;_i++){if(prevArray[_i].name===thisArtist.name){return prevArray;}}// Make a boolean array of the same length\nsetCheckedArtists(function(prevArray){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevArray),[false]);});var updatedList=[].concat(Object(toConsumableArray[\"a\" /* default */])(prevArray),[{name:thisArtist.name,profile:'',id:thisArtist.id}]);return updatedList;});};for(var i=0;i<lim;i++){_loop(i);}setFetchingArtists(false);});}// Abstract the image fetching interations\nfunction fetchProfiles(){if(featuredArtists.length>0){for(var i=0,l=featuredArtists.length;i<l;i++){getArtistImage(featuredArtists[i].id,i);}setFetchingArtists(true);}}function saveToken(token){spotifyWebApi.setAccessToken(token);setToken(token);}function clickCategoryCard(event){getCategory(event.target.innerText);}function clickArtist(index){setCheckedArtists(function(prevArray){var newArray=Object(toConsumableArray[\"a\" /* default */])(prevArray);newArray[index]=!prevArray[index];return newArray;});}function submitSelectedArtist(){// Iterate through and select CHECKED artists\nvar finalList=checkedArtists.map(function(artist,index){if(artist){return featuredArtists[index].name;}}).filter(function(artist){return artist;});if(finalList.length){alert(\"You chose: \".concat(finalList));// Reset the list\nsetCheckedArtists([]);setfeaturedArtists([]);setAvailableCategories([]);setFinalPlaylist('Missing link');}else{alert('Please select your favorite artists..');}}Object(react[\"useEffect\"])(function(){if(categoryPlaylists.length>0){for(var i=0,l=categoryPlaylists.length;i<l;i++){getPlaylistTracks(categoryPlaylists[i].id);}return;}},[categoryPlaylists]);Object(react[\"useEffect\"])(function(){if(!fetchingArtists){fetchProfiles();return;}},[featuredArtists]);Object(react[\"useEffect\"])(function(){if(token){getMe();getCategories();return;}},[token]);var data={currentUser:currentUser,availableCategories:availableCategories,selectedCategory:selectedCategory,categoryPlaylists:categoryPlaylists,featuredArtists:featuredArtists,checkedArtists:checkedArtists};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[!token&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_LoginButton,{saveToken:saveToken}),token&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_DisplayData,Object(objectSpread2[\"a\" /* default */])({clickArtist:clickArtist,submitSelectedArtist:submitSelectedArtist,clickCategoryCard:clickCategoryCard},data)),finalPlaylist&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_UserPlaylist,{finalPlaylist:finalPlaylist})]});}/* harmony default export */ var components_SpotifyData = (SpotifyData);\n// CONCATENATED MODULE: ./src/components/Footer.js\nfunction Footer(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"footer\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"footerLinks\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://github.com/spencerlepine/spotify-top-five\",target:\"_blank\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"http://csis.pace.edu/~scharff/pacemobilelab/images/github.jpg\",alt:\"GitHub Logo\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Created by \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{target:\"_blank\",href:\"https://twitter.com/SpencerLepine\",children:\"@SpencerLepine\"}),\"  \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://twitter.com/SpencerLepine\",target:\"_blank\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://logodownload.org/wp-content/uploads/2014/09/twitter-logo-1-1.png\",alt:\"GitHub Logo\"})})]})});}/* harmony default export */ var components_Footer = (Footer);\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SpotifyData,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Footer,{})]});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 18)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[17,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/notspencer/Downloads/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/notspencer/Downloads/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/notspencer/Downloads/client/node_modules/postcss-loader/src/index.js??postcss!/Users/notspencer/Downloads/client/src/index.css","/Users/notspencer/Downloads/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/notspencer/Downloads/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/notspencer/Downloads/client/node_modules/postcss-loader/src/index.js??postcss!/Users/notspencer/Downloads/client/src/App.css","/Users/notspencer/Downloads/client/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-8!/Users/notspencer/Downloads/client/src/components/logo.svg","/Users/notspencer/Downloads/client/src/components/Header.js","/Users/notspencer/Downloads/client/src/components/parseCallback.js","/Users/notspencer/Downloads/client/src/components/LoginButton.js","/Users/notspencer/Downloads/client/src/components/ArtistSelection.js","/Users/notspencer/Downloads/client/src/components/CategorySelection.js","/Users/notspencer/Downloads/client/src/components/DisplayData.js","/Users/notspencer/Downloads/client/src/components/UserPlaylist.js","/Users/notspencer/Downloads/client/src/components/SpotifyData.js","/Users/notspencer/Downloads/client/src/components/Footer.js","/Users/notspencer/Downloads/client/src/App.js","/Users/notspencer/Downloads/client/src/reportWebVitals.js","/Users/notspencer/Downloads/client/src/index.js"],"names":["Header","logo","parseCallback","link","length","accessToken","split","LoginButton","props","useState","promptLogin","setPromptLogin","useEffect","validToken","parseCallBack","window","location","href","saveToken","hash","connectSpotify","client_id","redirect_uri","scope","url","encodeURIComponent","ArtistSelection","cardList","list","map","artist","index","img","profile","handleClick","checkedArtists","name","CategorySelection","cat","id","DisplayData","currentUser","selectedCategory","clickCategoryCard","availableCategories","filter","i","submitSelectedArtist","featuredArtists","clickArtist","loadingPlaylist","UserPlaylist","finalPlaylist","spotifyWebApi","SpotifyWebApi","SpotifyData","token","setToken","setCurrentUser","setAvailableCategories","setSelectedCategory","categoryPlaylists","setCategoryPlaylists","setfeaturedArtists","fetchingArtists","setFetchingArtists","setCheckedArtists","setFinalPlaylist","getMe","then","response","display_name","getCategories","categories","items","getCategory","getCategoryPlaylists","playlists","getArtistImage","getArtist","console","log","prevArray","updatedList","obj","images","getPlaylistTracks","lim","limit","startingTracks","thisArtist","track","artists","l","fetchProfiles","setAccessToken","event","target","innerText","newArray","finalList","alert","data","Footer","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","export default __webpack_public_path__ + \"static/media/logo.e324e83e.svg\";","import React from \"react\"\nimport logo from './logo.svg';\n\nfunction Header() {\n    return (\n        <header className=\"App-header\">\n            <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        </header>\n    )\n}\n\nexport default Header","export default function parseCallback(link) {\n    // Hard-coded 60 assuming the token is long\n    if (typeof link == \"string\" && link.length > 60) {\n        // Chop off text before/after the access_token\n        let accessToken = link.split('#', 2)[1].split('=')[1].split('&')[0]\n\n        return accessToken\n    }\n}","import React, {useState, useEffect} from \"react\"\nimport parseCallBack from \"./parseCallback\"\n\nfunction LoginButton(props) {\n    const [promptLogin, setPromptLogin] = useState(true);\n\n    useEffect(() => {\n        const validToken = parseCallBack(window.location.href);\n\n        if (validToken) {\n            props.saveToken(validToken)\n            window.location.hash = '' // App will rerender with just .location\n        } else {\n            setPromptLogin(true);\n        }\n    }, [])\n\n    function connectSpotify() {\n        //var stateKey = 'spotify_auth_state';\n\n        const client_id = '0d539539a02d47a8842d93141f6b6984'; \n        const redirect_uri = 'http://localhost:3000/callback'; \n\n        //var state = generateRandomString(16);\n        //localStorage.setItem(stateKey, state);\n\n        // https://developer.spotify.com/documentation/general/guides/scopes/\n        var scope = 'user-read-private user-read-email user-read-playback-state';\n\n        var url = 'https://accounts.spotify.com/authorize';\n        url += '?response_type=token';\n        url += '&client_id=' + encodeURIComponent(client_id);\n        url += '&scope=' + encodeURIComponent(scope);\n        url += '&redirect_uri=' + encodeURIComponent(redirect_uri);\n        //url += '&state=' + encodeURIComponent(state);\n\n        window.location = url;\n    }\n\n    return (\n        <div className=\"accountStatus\">\n            {promptLogin && <button onClick={connectSpotify}>Connect Account</button>}\n        </div>\n    )\n}\n\nexport default LoginButton","import React from \"react\"\n\nfunction ArtistSelection(props) {\n    let cardList = props.list.map((artist, index) => {\n        let img = artist.profile\n        if (artist.profile === '') {\n            img = 'https://developers.google.com/maps/documentation/streetview/images/error-image-generic.png';\n        }\n\n        return (<div key={index}\n                    onClick={() => props.handleClick(index)}\n                    className={props.checkedArtists[index] ? \"checked card\" : \"card\"}>\n                    <img src={img} alt=\"Artist profile\"></img>\n                    <p>{artist.name}</p>\n                </div>)\n    })\n\n    return (\n        <div className=\"cardGrid\">\n            {cardList}\n        </div>\n    )\n}\n\nexport default ArtistSelection;","import React from \"react\"\n\nfunction CategorySelection(props) {\n    let cardList = props.list.map((cat, index) => {\n        return (<p key={index} \n                    onClick={props.handleClick}\n                    className=\"card category\">\n                    {cat.id}\n                </p>)\n    })\n\n    return (\n        <>\n            {cardList}\n        </>\n    )\n}\n\nexport default CategorySelection;","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport ArtistSelection from \"./ArtistSelection\"\nimport CategorySelection from \"./CategorySelection\"\n\nfunction DisplayData(props) {\n    return (\n        <>\n            {props.currentUser && <p className=\"userWelcome\">Hello {props.currentUser}!</p>}\n            \n            {!props.selectedCategory &&\n                (<div className=\"cardGrid\">\n                    <p className=\"stepInstructions\">Choose a category:</p>\n                    <CategorySelection\n                        handleClick={props.clickCategoryCard}\n                        list={props.availableCategories} />\n                </div>)\n            }\n\n            {props.checkedArtists.filter(i => i).length > 0 && <button onClick={props.submitSelectedArtist} className=\"generateBTN\">Generate</button>}\n\n            {props.featuredArtists.length > 0 &&\n                <>\n                    <p className=\"stepInstructions\">{props.selectedCategory} Artists:</p>\n                    <ArtistSelection\n                        handleClick={props.clickArtist}\n                        list={props.featuredArtists} \n                        checkedArtists={props.checkedArtists} />\n                </>\n            }\n\n            {props.loadingPlaylist && <p>Loading playlist...</p>}\n        </>\n    )\n}\n\nDisplayData.propTypes = {\n    currentUser: PropTypes.string,\n    availableCategories: PropTypes.arrayOf(PropTypes.object).isRequired,\n    selectedCategory: PropTypes.string.isRequired,\n    categoryPlaylists: PropTypes.arrayOf(PropTypes.object).isRequired,\n    featuredArtists: PropTypes.array.isRequired,\n    checkedArtists: PropTypes.array.isRequired,\n    clickArtist: PropTypes.func.isRequired,\n    submitSelectedArtist: PropTypes.func.isRequired,\n    clickCategoryCard: PropTypes.func.isRequired\n}\n\nexport default DisplayData\n","import React from \"react\"\n\nfunction UserPlaylist(props) {\n    return (\n        <>\n            {props.finalPlaylist}\n        </>\n    )\n}\n\nexport default UserPlaylist","import React, {useState, useEffect} from \"react\"\nimport SpotifyWebApi from \"spotify-web-api-js\"\nimport LoginButton from \"./LoginButton\"\nimport DisplayData from \"./DisplayData\"\nimport UserPlaylist from \"./UserPlaylist\"\n\nconst spotifyWebApi = new SpotifyWebApi();\n\n/*\n    --Display current username\n    --Fetch and display list of Categories\n    --Save user category choice\n    --Fetch category playlists\n    --Get top artists from each\n    --Save to list of artist\n        *insert similar artist into list\n    --Display list of artists\n*/\n\nfunction SpotifyData() {\n    const [token, setToken] = useState(false) \n    const [currentUser, setCurrentUser] = useState()\n    const [availableCategories, setAvailableCategories] = useState([])\n    const [selectedCategory, setSelectedCategory] = useState(\"\")\n    const [categoryPlaylists, setCategoryPlaylists] = useState([])\n    const [featuredArtists, setfeaturedArtists] = useState([])\n    const [fetchingArtists, setFetchingArtists] = useState(true)\n    const [checkedArtists, setCheckedArtists] = useState([])\n    const [finalPlaylist, setFinalPlaylist] = useState()\n    \n    function getMe() {\n        spotifyWebApi.getMe()\n            .then((response) => {\n                if (response) {\n                    setCurrentUser(response.display_name)\n                } \n        });\n    }\n\n    function getCategories() {\n        spotifyWebApi.getCategories()\n            .then((response) => {\n                if (response) {\n                    setAvailableCategories(response.categories.items)\n                } \n        });\n    }\n    \n    function getCategory(id) {\n        spotifyWebApi.getCategory(id)\n            .then((response) => {\n                setSelectedCategory(response.name);\n                getCategoryPlaylists(response.id);\n        });\n    }\n\n    function getCategoryPlaylists(id) {\n        spotifyWebApi.getCategoryPlaylists(id)\n            .then((response) => {\n                setCategoryPlaylists(response.playlists.items);\n        });\n    }\n\n    function getArtistImage(id, index) {\n        spotifyWebApi.getArtist(id)\n            .then((response) => {\n                console.log(\"Running the promise\")\n                setfeaturedArtists((prevArray) => {\n                    let updatedList = [...prevArray]\n                    let obj = {...updatedList[index]}\n                    obj.profile = response.images[0].url;\n                    updatedList[index] = obj\n\n                    return updatedList\n                })\n        });\n    }\n\n    function getPlaylistTracks(id) {\n        const lim = 5;\n\n        spotifyWebApi.getPlaylistTracks(id, {limit: lim}) // Only get 5 songs\n            .then((response) => {\n                let startingTracks = response.items;\n\n                for (let i = 0; i < lim; i++) {\n                    let thisArtist = startingTracks[i].track.artists[0];\n\n                    setfeaturedArtists((prevArray) => {\n                        // Skip if this artist already was saved\n                        for (let i = 0, l = prevArray.length; i < l; i++) {\n                            if (prevArray[i].name === thisArtist.name) {\n                                return prevArray\n                            }\n                        }\n                       \n                        // Make a boolean array of the same length\n                        setCheckedArtists((prevArray) => [...prevArray, false])\n                        let updatedList = [...prevArray, {name: thisArtist.name, profile: '', id: thisArtist.id}]\n                        return updatedList\n                    })\n                }\n                setFetchingArtists(false)\n        });\n    }\n    \n    // Abstract the image fetching interations\n    function fetchProfiles() {\n        if (featuredArtists.length > 0) {\n            for (let i = 0, l = featuredArtists.length; i < l; i++) {\n                getArtistImage(featuredArtists[i].id, i)\n            }\n            setFetchingArtists(true)\n        }\n    }\n\n    function saveToken(token) {\n        spotifyWebApi.setAccessToken(token);\n        setToken(token);\n    }\n\n    function clickCategoryCard(event) {\n        getCategory(event.target.innerText)\n    }\n\n    function clickArtist(index) {\n        setCheckedArtists((prevArray) => {\n            let newArray = [...prevArray]\n            newArray[index] = !prevArray[index]\n            return newArray\n        })\n    }\n\n    function submitSelectedArtist() {\n        // Iterate through and select CHECKED artists\n        const finalList = checkedArtists.map((artist, index) => {\n            if (artist) {\n                return featuredArtists[index].name\n            }\n        }).filter(artist => artist);\n\n        if (finalList.length) {\n            alert(`You chose: ${finalList}`)\n            // Reset the list\n            setCheckedArtists([])\n            setfeaturedArtists([])\n            setAvailableCategories([])\n            setFinalPlaylist('Missing link')\n        } else {\n            alert('Please select your favorite artists..')\n        }\n    }\n\n    useEffect(() => {\n        if (categoryPlaylists.length > 0) {\n            for (let i = 0, l = categoryPlaylists.length; i < l; i++) {\n                getPlaylistTracks(categoryPlaylists[i].id)\n            }\n            return\n        }\n    }, [categoryPlaylists])\n\n    useEffect(() => {\n        if (!fetchingArtists) {\n            fetchProfiles();\n            return\n        }\n    }, [featuredArtists])\n\n    useEffect(() => {\n        if (token) {\n            getMe()\n            getCategories()\n            return\n        }\n    }, [token])\n\n    const data = {\n        currentUser,\n        availableCategories,\n        selectedCategory,\n        categoryPlaylists,\n        featuredArtists,\n        checkedArtists\n    }\n\n    return (\n        <>\n            {!token && <LoginButton saveToken={saveToken} />}\n            \n            {token &&\n            <DisplayData \n                clickArtist={clickArtist}\n                submitSelectedArtist={submitSelectedArtist}\n                clickCategoryCard={clickCategoryCard}\n                {...data}\n            />}\n\n            {finalPlaylist && <UserPlaylist finalPlaylist={finalPlaylist} />}\n        </>\n    )\n}\n\nexport default SpotifyData\n","import React from \"react\"\n\nfunction Footer() {\n    return (\n        <footer>\n            <div className=\"footerLinks\">\n                <a href=\"https://github.com/spencerlepine/spotify-top-five\" target=\"_blank\">\n                    <img src=\"http://csis.pace.edu/~scharff/pacemobilelab/images/github.jpg\" alt=\"GitHub Logo\"></img>\n                </a>\n                <p>Created by <a target=\"_blank\" href=\"https://twitter.com/SpencerLepine\">@SpencerLepine</a>  </p>\n                <a href=\"https://twitter.com/SpencerLepine\" target=\"_blank\">\n                <img src=\"https://logodownload.org/wp-content/uploads/2014/09/twitter-logo-1-1.png\" alt=\"GitHub Logo\"></img>\n                </a>\n            </div>\n        </footer>\n    )\n}\n\nexport default Footer","import './App.css';\nimport Header from \"./components/Header\"\nimport SpotifyData from \"./components/SpotifyData\"\nimport Footer from \"./components/Footer\"\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      {/* <Header /> */}\n      <SpotifyData />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}