{"ast":null,"code":"var _jsxFileName = \"/Users/notspencer/Documents/React Practice/spotify-top-five/client/src/components/SpotifyData.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport SpotifyWebApi from \"spotify-web-api-js\";\nimport LoginButton from \"./LoginButton\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst spotifyWebApi = new SpotifyWebApi();\n\nfunction SpotifyData() {\n  _s();\n\n  let [token, setToken] = useState(false);\n  let [currentUser, setCurrentUser] = useState();\n  let [availableCategories, setAvailableCategories] = useState([]);\n  let [selectedCategory, setSelectedCategory] = useState(\"\");\n  let [categoryPlaylists, setCategoryPlaylists] = useState([]);\n\n  function getMe() {\n    spotifyWebApi.getMe().then(response => {\n      if (response) {\n        setCurrentUser(response.display_name);\n      }\n    });\n  }\n\n  function getCategories() {\n    spotifyWebApi.getCategories().then(response => {\n      if (response) {\n        setAvailableCategories(response.categories.items);\n      }\n    });\n  }\n\n  function getCategory(id) {\n    spotifyWebApi.getCategory(id).then(response => {\n      setSelectedCategory(response.name);\n      getCategoryPlaylists(response.name);\n    });\n  }\n\n  function getCategoryPlaylists() {\n    spotifyWebApi.getCategoryPlaylists(id).then(response => {\n      setCategoryPlaylists(response);\n    });\n  }\n\n  function saveToken(token) {\n    spotifyWebApi.setAccessToken(token);\n    setToken(token);\n  }\n\n  function clickCard(event) {\n    getCategory(event.target.innerText);\n  }\n\n  useEffect(() => {\n    console.log(selectedCategory);\n  }, [selectedCategory]);\n  useEffect(() => {\n    if (token) {\n      getMe();\n      getCategories();\n      return;\n    }\n  }, [token]);\n  let categoryList = availableCategories.map(category => {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      onClick: clickCard,\n      children: category.id\n    }, category.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [!token && /*#__PURE__*/_jsxDEV(LoginButton, {\n      saveToken: saveToken\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 24\n    }, this), currentUser && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Hello \", currentUser, \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }, this), selectedCategory ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Selected: \", selectedCategory]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }, this) : categoryList]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SpotifyData, \"MK0nsv71DQxy1RNWPX/qm9yzW+w=\");\n\n_c = SpotifyData;\nexport default SpotifyData;\n\nvar _c;\n\n$RefreshReg$(_c, \"SpotifyData\");","map":{"version":3,"sources":["/Users/notspencer/Documents/React Practice/spotify-top-five/client/src/components/SpotifyData.js"],"names":["React","useState","useEffect","SpotifyWebApi","LoginButton","spotifyWebApi","SpotifyData","token","setToken","currentUser","setCurrentUser","availableCategories","setAvailableCategories","selectedCategory","setSelectedCategory","categoryPlaylists","setCategoryPlaylists","getMe","then","response","display_name","getCategories","categories","items","getCategory","id","name","getCategoryPlaylists","saveToken","setAccessToken","clickCard","event","target","innerText","console","log","categoryList","map","category"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport SpotifyWebApi from \"spotify-web-api-js\"\nimport LoginButton from \"./LoginButton\"\n\nconst spotifyWebApi = new SpotifyWebApi();\n\nfunction SpotifyData() {\n    let [token, setToken] = useState(false) \n    let [currentUser, setCurrentUser] = useState()\n    let [availableCategories, setAvailableCategories] = useState([])\n    let [selectedCategory, setSelectedCategory] = useState(\"\")\n    let [categoryPlaylists, setCategoryPlaylists] = useState([])\n\n    function getMe() {\n        spotifyWebApi.getMe()\n            .then((response) => {\n                if (response) {\n                    setCurrentUser(response.display_name)\n                } \n        });\n    }\n\n    function getCategories() {\n        spotifyWebApi.getCategories()\n            .then((response) => {\n                if (response) {\n                    setAvailableCategories(response.categories.items)\n                } \n        });\n    }\n    \n    function getCategory(id) {\n        spotifyWebApi.getCategory(id)\n            .then((response) => {\n                setSelectedCategory(response.name);\n                getCategoryPlaylists(response.name);\n        });\n    }\n\n    function getCategoryPlaylists() {\n        spotifyWebApi.getCategoryPlaylists(id)\n            .then((response) => {\n                setCategoryPlaylists(response);\n        });\n    }\n\n    function saveToken(token) {\n        spotifyWebApi.setAccessToken(token);\n        setToken(token);\n    }\n\n    function clickCard(event) {\n        getCategory(event.target.innerText)\n    }\n\n    useEffect(() => {\n        console.log(selectedCategory)\n    }, [selectedCategory])\n\n    useEffect(() => {\n        if (token) {\n            getMe()\n            getCategories()\n            return\n        }\n    }, [token])\n\n    let categoryList = availableCategories.map((category) => {\n        return (<p key={category.id} onClick={clickCard}>{category.id}</p>)\n    })\n\n    return (\n        <div>\n            {!token && <LoginButton saveToken={saveToken} />}\n            {currentUser && <p>Hello {currentUser}!</p>}\n\n            {selectedCategory\n                ? <p>Selected: {selectedCategory}</p>\n                : categoryList\n            }\n\n        </div>\n    )\n}\n\nexport default SpotifyData\n"]},"metadata":{},"sourceType":"module"}